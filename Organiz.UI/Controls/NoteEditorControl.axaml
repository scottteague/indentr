<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ae="clr-namespace:AvaloniaEdit;assembly=AvaloniaEdit"
             x:Class="Organiz.UI.Controls.NoteEditorControl">

    <DockPanel>
        <!-- Toolbar -->
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Spacing="4" Margin="4,4,4,0">
            <Button x:Name="BoldButton"         Content="B"            FontWeight="Bold"   Width="32" ToolTip.Tip="Bold (**text**)"          Click="OnBoldClick" />
            <Button x:Name="RedButton"          Content="R"            Foreground="Red"    Width="32" ToolTip.Tip="Red (__text__)"            Click="OnRedClick" />
            <Button x:Name="ItalicButton"       Content="I"            FontStyle="Italic"  Width="32" ToolTip.Tip="Italic (*text*)"           Click="OnItalicClick" />
            <Button x:Name="UnderlineButton"    Content="U"            Width="32"          ToolTip.Tip="Underline (_text_)"                  Click="OnUnderlineClick" />
            <Button x:Name="LinkButton"         Content="ðŸ”—"           Width="32"          ToolTip.Tip="Insert link"                         Click="OnLinkClick" />
            <Button x:Name="NewChildNoteButton" Content="+ Note"       Width="72"          ToolTip.Tip="Create child note from selection"    Click="OnNewChildNoteClick" IsEnabled="False" />
            <Separator Width="1" />
            <Button x:Name="SaveButton"         Content="Save"         Width="50"          ToolTip.Tip="Save (Ctrl+S)"                       Click="OnSaveClick" />
            <Button x:Name="ExportButton"       Content="Exportâ€¦"      Width="70"          ToolTip.Tip="Export to Markdown"                  Click="OnExportClick" />
        </StackPanel>

        <!-- Title row (hidden for scratchpad) -->
        <Grid DockPanel.Dock="Top" ColumnDefinitions="Auto,*" Margin="6,4,6,0" x:Name="TitleRow">
            <TextBlock Grid.Column="0" Text="Title: " VerticalAlignment="Center" />
            <TextBox   Grid.Column="1" x:Name="TitleBox" Watermark="Note title" />
        </Grid>

        <!-- Privacy row (hidden for scratchpad and root note) -->
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="6,2,6,0" x:Name="PrivacyRow">
            <CheckBox x:Name="PublicCheckBox" Content="Public" ToolTip.Tip="Uncheck to make this note private (visible only to you)" />
        </StackPanel>

        <!-- AvaloniaEdit text editor -->
        <ae:TextEditor x:Name="Editor"
                       FontFamily="Cascadia Code,Consolas,DejaVu Sans Mono,Liberation Mono,monospace"
                       FontSize="14"
                       WordWrap="True"
                       ShowLineNumbers="False"
                       Margin="6,4,6,4"
                       HorizontalScrollBarVisibility="Disabled" />
    </DockPanel>
</UserControl>
